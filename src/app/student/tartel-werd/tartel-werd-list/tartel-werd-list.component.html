<app-header></app-header>

<div class="container py-5" dir="rtl">
  <!-- ุงูุนููุงู -->
  <h2 class="text-center fw-bold mb-4 text-dark border-bottom pb-2">
    ๐ ุฃูุฑุงุฏ ุงูุชุฑุชูู ุงูุดููุฏู ุฎูุงู ุงูุฃุณุจูุน
  </h2>

  <!-- ุฃุฒุฑุงุฑ ุงูุชููู ุจูู ุงูุฃุณุงุจูุน -->
  <div class="d-flex flex-wrap justify-content-center gap-3 mb-4">
    <button class="btn btn-outline-primary" (click)="prevWeek()">
      โฌ๏ธ ุงูุฃุณุจูุน ุงูุณุงุจู
    </button>

    <button
      class="btn btn-outline-secondary"
      (click)="goToCurrentWeek()"
      [disabled]="isCurrentWeek"
    >
      ๐ ุงูุฃุณุจูุน ุงูุญุงูู
    </button>

    <button
      class="btn btn-outline-primary"
      (click)="nextWeek()"
      [disabled]="isCurrentWeek"
    >
      ุงูุฃุณุจูุน ุงูุชุงูู โก๏ธ
    </button>
  </div>

  <!-- ูุต ุงูุฃุณุจูุน -->
  <p class="text-center fs-5 fw-bold text-primary mb-4">
    ๐ {{ weekRangeText }}
  </p>

  <!-- ุฒุฑ ุงูุฅุถุงูุฉ -->
  <div class="text-center mb-4">
    <button class="btn btn-success btn-lg px-4 shadow" (click)="onAdd()">
      โ ูุฑุฏ ุฌุฏูุฏ
    </button>
  </div>

  <!-- ุญุงูุฉ ุงูุชุญููู -->
  <ng-container *ngIf="loading; else loaded">
    <p class="text-center text-muted">ุฌุงุฑู ุงูุชุญููู...</p>
  </ng-container>

  <!-- ุงููุญุชูู ุงููุญููู -->
  <ng-template #loaded>
    <!-- ูุง ุชูุฌุฏ ุฃูุฑุงุฏ -->
    <div *ngIf="werds.length === 0" class="text-center text-muted fs-5">
      ูุง ุชูุฌุฏ ุฃูุฑุงุฏ ููุฐุง ุงูุฃุณุจูุน.
    </div>

    <!-- ุนุฑุถ ุงูุฃูุฑุงุฏ ูุจุทุงูุงุช -->
    <div class="row g-4" *ngIf="werds.length > 0">
      <div class="col-12 col-md-6 col-lg-4" *ngFor="let record of werds">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <h5 class="card-title fw-bold text-primary mb-2">
              {{ record.date | date : "fullDate" : "" : "ar-EG" }}
            </h5>

            <p class="card-text mb-2">
              <strong><i class="bi bi-bookmark"></i> ุงูุขูุงุช:</strong>
              {{ record.verses }}
            </p>

            <p class="card-text mb-2">
              <strong><i class="bi bi-info-circle"></i> ุงูููุงุฆุฏ:</strong>
              {{ record.description }}
            </p>
          </div>

          <div
            class="card-footer bg-white border-top-0 d-flex justify-content-between"
          >
            <button
              class="btn btn-sm btn-outline-warning"
              (click)="edit(record.id)"
            >
              โ๏ธ ุชุนุฏูู
            </button>
            <button
              class="btn btn-sm btn-outline-danger"
              (click)="delete(record.id)"
            >
              ๐๏ธ ุญุฐู
            </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>
